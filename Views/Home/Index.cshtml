@model ProjectBugTracker.Models.UserViewModel
@using ProjectBugTracker.Models

@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Home Page";
}

<link href="~/TexturedText/css/style2.css" rel="stylesheet" />
<link href="~/TexturedText/css/normalize.css" rel="stylesheet" />


<!--Admin Dashboard-->
@if (ViewContext.HttpContext.User.IsInRole("Admin"))
{

    <section id="hero">
        <!--Start Sliders -->
        <div id="header-slider" class="carousel slide" data-ride="carousel">
            <!-- Hero Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <!-- First Slider -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Notifications</h3>
                            </div>

                                <table id="Anotitable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Title
                                            </th>
                                            <th>
                                                Property
                                            </th>
                                            <th>
                                                Update
                                            </th>
                                            <th>

                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.TicketNotifications)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Tickets.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Property)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.NewValue)
                                                </td>
                                                <td>
                                                    @Html.ActionLink("Mark as Seen", "MarkNotificationSeen", "Tickets", new { id = item.Id }, null) |
                                                    @Html.ActionLink("View", "Details", "Tickets", new { id = item.TicketId }, null)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div> <!-- End First Slider -->
                <div class="item">
                    <!-- Second Slider Projects -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="art1">
                            <h3>Projects</h3>
                        </div>
                            <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Projects")</button>
                            <button style="text-align:center" class="btn btn-default">@Html.ActionLink("Project Manager", "Index", "ProjectManager")</button>
                        </div>
                    </div>
                </div><!-- End Second Slider -->
                <div class="item">
                    <!-- Third SliderTickets  -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="art1">
                            <h3>Tickets</h3>
                        </div>
                            <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Tickets")</button>
                        </div>
                    </div>
                </div> <!-- End Third Slider -->
            </div> <!-- End Hero Wrapper for slides -->
        </div> <!-- End Sliders -->
    </section><!-- End Hero Slider -->

    <!--ProjMan Dashboard-->
}
else if (User.IsInRole("ProjectManager"))
{
    <section id="hero">
        <!--Start Sliders -->
        <div id="header-slider" class="carousel slide" data-ride="carousel">
            <!-- Hero Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <!-- First Slider -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Notifications</h3>
                            </div>

                                <table id="Anotitable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Title
                                            </th>
                                            <th>
                                                Property
                                            </th>
                                            <th>
                                                Update
                                            </th>
                                            <th>

                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.TicketNotifications)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Tickets.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Property)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.NewValue)
                                                </td>
                                                <td>
                                                    @Html.ActionLink("Mark as Seen", "MarkNotificationSeen", "Tickets", new { id = item.Id }, null) |
                                                    @Html.ActionLink("View", "Details", "Tickets", new { id = item.TicketId }, null)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div> <!-- End First Slider -->
                <div class="item">
                    <!-- Second Slider Projects -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Assigned Projects</h3>
                            </div>
                                <table id="Projecttable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Assigned Project
                                            </th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.UserProjects)
                                        {
                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Name)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                                <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Projects")</button>
                                <button class="btn btn-default">@Html.ActionLink("Project Manager", "Index", "ProjectManager")</button>

                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div><!-- End Second Slider -->
                <div class="item">
                    <!-- Third SliderTickets  -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="art1">
                            <h3>Tickets</h3>
                        </div>
                            <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Tickets")</button>
                        </div>
                    </div>
                </div> <!-- End Third Slider -->
            </div> <!-- End Hero Wrapper for slides -->
        </div> <!-- End Sliders -->
    </section><!-- End Hero Slider -->

    <!--Dev Dashboard-->
}
else if (User.IsInRole("Developer"))
{

    <section id="hero">
        <!--Start Sliders -->
        <div id="header-slider" class="carousel slide" data-ride="carousel">
            <!-- Hero Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <!-- First Slider -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Notifications</h3>
                            </div>
                                <table id="Anotitable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Title
                                            </th>
                                            <th>
                                                Property
                                            </th>
                                            <th>
                                                Update
                                            </th>
                                            <th>

                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.TicketNotifications)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Tickets.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Property)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.NewValue)
                                                </td>
                                                <td>
                                                    @Html.ActionLink("Mark as Seen", "MarkNotificationSeen", "Tickets", new { id = item.Id }, null) |
                                                    @Html.ActionLink("View", "Details", "Tickets", new { id = item.TicketId }, null)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div> <!-- End First Slider -->
                <div class="item">
                    <!-- Second Slider Projects -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Assigned Projects</h3>
                            </div>
                                <table id="projtable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Assigned Project
                                            </th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.UserProjects)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Name)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                                <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Projects")</button>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                </div><!-- End Second Slider -->
                <div class="item">
                    <!-- Third SliderTickets  -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Assigned Tickets</h3>
                            </div>
                                <table id="tictable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Assigned Ticket
                                            </th>
                                            <th>
                                                Project
                                            </th>
                                            <th>
                                                Type
                                            </th>
                                            <th>
                                                Priority
                                            </th>
                                            <th>
                                                Status
                                            </th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.TicketsAssigned)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Projects.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketType.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketPrioritys.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketStatuses.Name)
                                                </td>

                                            </tr>

                                        }
                                    </tbody>
                                </table>
                                <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Tickets")</button>
                            </div>
                        </div>
                        <div class="col-md-1"></div>
                    </div>
                </div> <!-- End Third Slider -->
            </div> <!-- End Hero Wrapper for slides -->
        </div> <!-- End Sliders -->
    </section><!-- End Hero Slider -->


    <!--Sub Dashboard-->
}
else if (User.IsInRole("Submitter"))
{

    <section id="hero">
        <!--Start Sliders -->
        <div id="header-slider" class="carousel slide" data-ride="carousel">
            <!-- Hero Wrapper for slides -->
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <!-- First Slider -->
                    <img src="~/Images/LadyBug.jpg" />
                    <div class="carousel-caption">
                        <div class="row">
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="prev"><span style="color:#436c98" class="fa fa-angle-left fa-2x"></span></span><!-- Prev Control --></h2>
                            </div>
                            <div class="col-md-10">
                                <div class="art1">
                                    <h1 style="text-align:center">@Html.DisplayFor(modelItem => modelItem.DisplayName) Dashboard</h1>
                                    <h2 style="text-align:center">@DateTime.Now.Day/@DateTime.Now.Month/@DateTime.Now.Year</h2>
                                </div>
                            </div>
                            <div class="col-md-1">
                                <h2><span href="~/#header-slider" role="button" data-slide="next"><span style="color:#436c98" class="fa fa-angle-right fa-2x"></span> <!-- Next Control --></span></h2>
                            </div>
                        </div>
                        <div class="row" style="padding-left:20px;padding-right:20px">
                            <div class="col-md-1"></div>
                            <div class="col-md-10">
                                <div class="art1">
                                <h3>Submitted Tickets</h3>
                            </div>

                                <table id="subtictable" class="table">
                                    <thead>
                                        <tr>
                                            <th>
                                                Submitted Ticket
                                            </th>
                                            <th>
                                                Project
                                            </th>
                                            <th>
                                                Type
                                            </th>
                                            <th>
                                                Priority
                                            </th>
                                            <th>
                                                Status
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var item in Model.TicketsOwned)
                                        {

                                            <tr>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Title)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.Projects.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketType.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketPrioritys.Name)
                                                </td>
                                                <td>
                                                    @Html.DisplayFor(modelItem => item.TicketStatuses.Name)
                                                </td>
                                            </tr>

                                        }
                                    </tbody>
                                </table>
                                <button style="text-align:center" class="btn btn-default">@Html.ActionLink("View All", "Index", "Tickets")</button>

                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div> <!-- End First Slider -->
            </div> <!-- End Hero Wrapper for slides -->
        </div> <!-- End Sliders -->
    </section><!-- End Hero Slider -->





}
<script>
    $('#tictable').DataTable();
    $('#projtable').DataTable();
    $('#subtictable').DataTable();
    $('#Anotitable').DataTable();
    $('#notitable').DataTable();
    $('#Projecttable').DataTable();
</script>
